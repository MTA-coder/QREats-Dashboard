<form class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate" id="kt_login_signup_form" [formGroup]="registrationForm">
    <!--begin::Heading-->
    <div class="mb-10 text-center">
        <h1 class="text-dark mb-3">Create User</h1>
    </div>
    <!--end::Heading-->

    <!-- begin::Alert error-->
    <ng-container *ngIf="hasError">
        <div class="mb-lg-15 alert alert-danger">
            <div class="alert-text font-weight-bold">
                The registration details are incorrect
            </div>
        </div>
    </ng-container>
    <!-- end::Alert error-->

    <!--begin::Form group-->
    <div class="row fv-row mb-7">
        <label class="form-label fw-bolder text-dark fs-6">Name</label>
        <input (keydown.space)="$event.preventDefault();" class="form-control form-control-lg form-control-solid" type="text" name="name" formControlName="name" placeholder="Fullname" [ngClass]="{
        'is-invalid': registrationForm.controls['name'].invalid,
        'is-valid': registrationForm.controls['name'].valid
      }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Name is required',
        control: registrationForm.controls['name']
      }"></ng-container>
        <ng-container *ngIf="
      registrationForm.controls['name'].errors &&
      registrationForm.controls['name'].errors.whitespace
    ">
            <div class="fv-plugins-message-container">
                <div class="fv-help-block">
                    Name must not have whitespaces
                </div>
            </div>
        </ng-container>
    </div>
    <!--end::Form group-->

    <!--begin::Form group-->
    <div class="mb-10 fv-row">
        <label class="form-label fw-bolder text-dark fs-6">Password</label>
        <input class="form-control form-control-lg form-control-solid" type="password" placeholder="Password" name="password" formControlName="password" autocomplete="off" [ngClass]="{
        'is-invalid': registrationForm.controls['password'].invalid,
        'is-valid': registrationForm.controls['password'].valid
      }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Password is required',
        control: registrationForm.controls['password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'minlength',
        message: 'Password should have at least 3 symbols',
        control: registrationForm.controls['password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'maxLength',
        message: 'Password should have maximum 100 symbols',
        control: registrationForm.controls['password']
      }"></ng-container>
    </div>
    <!--end::Form group-->

    <!--begin::Form group-->
    <div class="fv-row mb-5">
        <label class="form-label fw-bolder text-dark fs-6">Confirm Password</label>
        <input class="form-control form-control-lg form-control-solid" type="password" placeholder="Confirm password" name="confirm_password" autocomplete="off" formControlName="confirm_password" [ngClass]="{
        'is-invalid': registrationForm.controls['confirm_password'].invalid,
        'is-valid': registrationForm.controls['confirm_password'].valid
      }" />
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'required',
        message: 'Confirm Password is required',
        control: registrationForm.controls['confirm_password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'minlength',
        message: 'Confirm Password should have at least 3 symbols',
        control: registrationForm.controls['confirm_password']
      }"></ng-container>
        <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
        validation: 'maxLength',
        message: 'Confirm Password should have maximum 100 symbols',
        control: registrationForm.controls['confirm_password']
      }"></ng-container>
        <ng-container *ngIf="
        registrationForm.controls['confirm_password'].errors &&
        registrationForm.controls['confirm_password'].errors.ConfirmPassword
      ">
            <div class="fv-plugins-message-container">
                <div class="fv-help-block">
                    'Passsword' and 'Confirm Password' didn't match.
                </div>
            </div>
        </ng-container>
    </div>
    <!--end::Form group-->

    <!--begin::Form group-->
    <div class="text-center">
        <button type="submit" id="kt_sign_up_submit" [disabled]="registrationForm.invalid" class="btn btn-lg qr-btn-primary w-100 mb-5" (click)="submit()">
      <span class="indicator-label">Submit</span>
    </button>
        <a routerLink="/auth/login" type="button" id="kt_login_signup_form_cancel_button" class="btn btn-lg qr-btn-secondaryw-100 mb-5">
      Cancel
    </a>
    </div>
    <!--end::Form group-->
</form>

<ng-template #formError let-control="control" let-message="message" let-validation="validation">
    <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
        <div class="fv-plugins-message-container">
            <div class="fv-help-block">
                <span role="alert">
          {{ message }}
        </span>
            </div>
        </div>
    </ng-container>
</ng-template>
